{
    "title": "locals",
    "required": [ "localName", "phones", "emails" ],
    "properties": {
        "_id": {
            "bsonType": "objectId"
        },
        "localName": {
            "bsonType": "string",
            "description": "Local name must be a string and is required"
        },
        "picture": {
            "bsonType": "string",
            "description": "Picture must be a valid image if the field exists"
        },   
        "phones": {
            "bsonType": "array",
            "minItems": 1,
            "maxItems": 5,
            "items": {
                "bsonType": "object",
                "required": [ "areaCode", "number"],
                "properties": {
                    "areaCode": {
                        "bsonType": "string",
                        "description": "Area code must be a string and is required",
                        "minLength": 2,
                        "maxLength": 4
                    },
                    "number": {
                        "bsonType": "string",
                        "description": "Number must be a string and is required",
                        "minLength": 8,
                        "maxLength": 15
                    }
                }
            }
        },
        "emails": {
            "bsonType": "array",
            "minItems": 1,
            "maxItems": 5,
            "items": {
                "bsonType": "object",                
                "required": [ "address", "description"],
                "properties": {
                    "address": {
                        "description": "Email must a string and is required",
                        "bsonType": "string",
                        "format": "email"
                    },
                    "description": {
                        "bsonType": "string",
                        "description": "Description must be a string and is required",
                        "minLength": 5,
                        "maxLength": 50
                    }
                }
            }
        }
    }
}
